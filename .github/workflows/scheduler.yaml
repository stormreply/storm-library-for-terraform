name: Scheduler

on:
  schedule:
    - cron: "17 */4 * * *"  # run once every 4 hours
  workflow_dispatch:

permissions:
  contents: read
  id-token: write

jobs:

  scheduler:
    uses: stormreply/slt-workflows/.github/workflows/scheduler.yaml@main
    secrets:
      INFRACOST_API_KEY: ${{ secrets.INFRACOST_API_KEY }}
      STORM_LIBRARY_FOR_TERRAFORM: ${{ secrets.STORM_LIBRARY_FOR_TERRAFORM }}
      TERRAFORM_PRIVATE_KEY: ${{ secrets.TERRAFORM_PRIVATE_KEY }}
